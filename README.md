# auto_transcript

**auto_transcript** is an automated tool for audio transcription and summarization. This repository contains scripts that:

- Monitor a designated folder for new audio files (.m4a).
- Automatically rename and convert audio files to WAV if necessary.
- Transcribe audio files using whisper-cli.
- Generate concise, markdown-formatted summaries of transcriptions via an OpenAI model.

## Repository Components

- **install.sh**
  - Installs required dependencies (Fish shell, FFmpeg, Python3, whisper-cli).
  - Creates a Python virtual environment and installs Python dependencies (openai package).
  - Sets executable permissions on key scripts.
  - Configures a cron job for periodic execution of the transcription process.

- **auto_transcribe.fish**
  - Monitors a specified directory (default: `~/Transcriptions`) for new audio files.
  - Renames files by prefixing them with the current date if needed.
  - Converts non-WAV files to WAV format using FFmpeg.
  - Transcribes audio using whisper-cli, saving the output as a `.lrc` file.
  - Invokes `ai-summarize.py` to create a summarized markdown version of the transcription.
  - Manages log files and error handling.

- **ai-summarize.py**
  - Reads the transcription file (.lrc) generated by `auto_transcribe.fish`.
  - Uses OpenAI's API (model: `gpt-4o-mini-2024-07-18`) to generate a concise summary.
  - Outputs the summary in markdown format.
  - Requires the `OPENAI_API_KEY` environment variable to be set.

## Installation

1. **Clone the repository.**

2. **Run the installation script:**

   ```bash
   ./install.sh
   ```

   This script will:
   - Install all necessary dependencies.
   - Set up the Python virtual environment.
   - Configure a cron job for automatic execution of the transcription process.

## Usage

1. **Place your audio files:**
   - Put your `.m4a` audio files in the default directory (`~/Transcriptions`).
   - You can change this directory by editing the `auto_transcribe.fish` script if needed.

2. **Automatic Processing:**
   - The cron job will trigger `auto_transcribe.fish` periodically, which will:
     - Rename and convert the audio files as required.
     - Transcribe the audio using whisper-cli (transcriptions saved as `.lrc` files).
     - Generate a summary by invoking `ai-summarize.py` (summaries saved as `.summary.md` files).

3. **Review Logs:**
   - Check `auto_transcribe.log` for regular logs and `auto_transcribe_errors.log` for error details.

## Additional Information

- The model file (`ggml-large-v3-turbo.bin`) is automatically downloaded and stored in the `./models` folder if it is not already present.
- Ensure you have a valid `OPENAI_API_KEY` set in your environment to utilize the summarization feature.

## Support

If you encounter any issues or need further assistance, please file an issue in the repository.